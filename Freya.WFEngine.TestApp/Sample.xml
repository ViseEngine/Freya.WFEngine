<?xml version="1.0" encoding="utf-8" ?>
<Workflow>
  <Activities>
    <Add name="Transition" type="Freya.WFEngine.TransitionActivity, Freya.WFEngine" />
    <Add name="Auto" type="Freya.WFEngine.AutoTransitionActivity, Freya.WFEngine" />
    <Add name="Beep" type="Freya.WFEngine.TestApp.BeepActivity, Freya.WFEngine.TestApp" />
  </Activities>
  <Guards>
    <Add name="Ask" type="Freya.WFEngine.TestApp.AskGuard`1, Freya.WFEngine.TestApp" />
  </Guards>
  <States>
    <State name="First">
      <Transition exitState="Second" name="firstActivity" />
    </State>
    
    <State name="Second">
      <Transition exitState="First" name="toFirst">
        <Ask question="Proceed to First (Y/N)?" />
      </Transition>
      <Transition exitState="Third" name="toThird">
        <Ask question="Proceed to Third (Y/N)?" />
      </Transition>
    </State>

    <State name="Third">
      <Beep exitState="Fourth" />
    </State>

    <State name="Fourth">
      <Auto exitState="Second" />
    </State>
    
  </States>
</Workflow>